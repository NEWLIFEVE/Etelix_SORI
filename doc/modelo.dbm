<?xml version="1.0" encoding="UTF-8"?>
<!--
CAUTION: Do not modify this file unless you know what you are doing.
         Unexpected results may occur if the code is changed deliberately.
-->
<dbmodel>
<schema name="public" protected="true" fill-color="#e1e1e1" sql-disabled="true">
</schema>

<database name="sori">
</database>

<table name="carrier" oids="true">
	<schema name="public"/>
	<position x="15" y="21"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="name" not-null="true">
		<type name="varchar" length="50"/>
	</column>
	<column name="address">
		<type name="text"/>
	</column>
	<column name="record_date" not-null="true">
		<type name="date"/>
	</column>
	<constraint name="id_carrier" type="pk-constr" factor="10" table="public.carrier">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="destination" oids="true">
	<schema name="public"/>
	<position x="268" y="21"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="name" not-null="true">
		<type name="varchar" length="50"/>
	</column>
	<constraint name="id_destination" type="pk-constr" factor="10" table="public.destination">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="users" oids="true">
	<schema name="public"/>
	<position x="19" y="324"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="username" not-null="true">
		<type name="varchar" length="20"/>
	</column>
	<column name="password" not-null="true">
		<type name="varchar" length="128"/>
	</column>
	<column name="email" not-null="true">
		<type name="varchar" length="128"/>
	</column>
	<column name="activkey" not-null="true">
		<type name="varchar" length="128"/>
	</column>
	<column name="superuser" not-null="true">
		<type name="boolean"/>
	</column>
	<column name="status" not-null="true">
		<type name="boolean"/>
	</column>
	<column name="create_at" not-null="true">
		<type name="timestamp"/>
	</column>
	<column name="lastvisit_at" not-null="true">
		<type name="timestamp"/>
	</column>
	<constraint name="id_users" type="pk-constr" factor="10" table="public.users">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="type_of_user" oids="true">
	<schema name="public"/>
	<position x="41" y="701"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="nombre" not-null="true">
		<type name="varchar" length="45"/>
	</column>
	<constraint name="id_type_of_user" type="pk-constr" factor="10" table="public.type_of_user">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<relationship name="type_of_user_has_many_users"
	 type="rel1n"
	 src-table="public.type_of_user"
	 dst-table="public.users"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<table name="profiles" oids="true">
	<schema name="public"/>
	<position x="31" y="581"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="first_name">
		<type name="varchar" length="128"/>
	</column>
	<column name="last_name">
		<type name="varchar" length="128"/>
	</column>
	<constraint name="id_profiles" type="pk-constr" factor="10" table="public.profiles">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<relationship name="profiles_has_one_users"
	 type="rel11"
	 src-table="public.users"
	 dst-table="public.profiles"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<table name="carrier_managers" oids="true">
	<schema name="public"/>
	<position x="56" y="181"/>
	<column name="start_date">
		<type name="date"/>
	</column>
	<column name="end_date">
		<type name="date"/>
	</column>
</table>

<relationship name="carrier_has_many_carrier_managers"
	 type="rel1n"
	 src-table="public.carrier"
	 dst-table="public.carrier_managers"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<relationship name="users_has_many_carrier_managers"
	 type="rel1n"
	 src-table="public.users"
	 dst-table="public.carrier_managers"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<table name="balance" oids="true">
	<schema name="public"/>
	<position x="310" y="131"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="date_balance" not-null="true">
		<type name="date"/>
	</column>
	<column name="minutes" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="acd" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="asr" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin_percentage" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin_per_minute" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="cost_per_minute" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="revenue_per_min" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="pdd" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="incomplete_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="incomplete_calls_ner" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="complete_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="complete_calls_ner" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="calls_attempts" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="duration_real" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="duration_cost" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="ner02_efficient" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="ner02_seizure" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="pdd_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="revenue" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="cost" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="date_change">
		<type name="date"/>
	</column>
	<column name="type" not-null="true">
		<type name="integer"/>
	</column>
	<constraint name="id_balance" type="pk-constr" factor="10" table="public.balance">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="history" oids="true">
	<schema name="public"/>
	<position x="672" y="23"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="date_balance" not-null="true">
		<type name="date"/>
	</column>
	<column name="minutes" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="acd" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="asr" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin_percentage" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin_per_minute" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="cost_per_minute" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="revenue_per_min" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="pdd" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="incomplete_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="incomplete_calls_ner" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="complete_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="complete_calls_ner" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="calls_attempts" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="duration_real" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="duration_cost" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="ner02_efficient" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="ner02_seizure" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="pdd_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="revenue" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="cost" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="date_change">
		<type name="date"/>
	</column>
	<constraint name="id_history" type="pk-constr" factor="10" table="public.history">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="balance_time" oids="true">
	<schema name="public"/>
	<position x="660" y="451"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="date_balance_time" not-null="true">
		<type name="date"/>
	</column>
	<column name="minutes" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="acd" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="asr" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin_percentage" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin_per_minute" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="cost_per_minute" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="revenue_per_min" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="pdd" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="incomplete_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="incomplete_calls_ner" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="complete_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="complete_calls_ner" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="calls_attempts" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="duration_real" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="duration_cost" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="ner02_efficient" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="ner02_seizure" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="pdd_calls" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="revenue" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="cost" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="margin" not-null="true">
		<type name="double precision"/>
	</column>
	<column name="date_change" not-null="true">
		<type name="date"/>
	</column>
	<column name="time_change" not-null="true">
		<type name="time"/>
	</column>
	<column name="name_carrier" not-null="true">
		<type name="varchar" length="50"/>
	</column>
	<column name="name_destination" not-null="true">
		<type name="varchar" length="50"/>
	</column>
	<constraint name="id_balance_time" type="pk-constr" factor="10" table="public.balance_time">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<relationship name="carrier_has_many_balance"
	 type="rel1n"
	 src-table="public.carrier"
	 dst-table="public.balance"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<relationship name="destination_has_many_balance"
	 type="rel1n"
	 src-table="public.destination"
	 dst-table="public.balance"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<relationship name="balance_has_many_history"
	 type="rel1n"
	 src-table="public.balance"
	 dst-table="public.history"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<table name="destination_int" oids="true">
	<schema name="public"/>
	<position x="469" y="20"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="name" not-null="true">
		<type name="varchar" length="50"/>
	</column>
	<constraint name="id_destination_1" type="pk-constr" factor="10" table="public.destination_int">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<relationship name="destination_int_has_many_balance"
	 type="rel1n"
	 src-table="public.destination_int"
	 dst-table="public.balance"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<table name="log" oids="true">
	<schema name="public"/>
	<position x="281" y="573"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="date" not-null="true">
		<type name="date"/>
	</column>
	<column name="hour" not-null="true">
		<type name="time"/>
	</column>
	<constraint name="id_log" type="pk-constr" factor="10" table="public.log">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="log_action" oids="true">
	<schema name="public"/>
	<position x="278" y="735"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
	<column name="name">
		<type name="varchar" length="50"/>
	</column>
	<constraint name="id_log_action" type="pk-constr" factor="10" table="public.log_action">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
</table>

<relationship name="log_action_has_many_log"
	 type="rel1n"
	 src-table="public.log_action"
	 dst-table="public.log"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<relationship name="users_has_many_log"
	 type="rel1n"
	 src-table="public.users"
	 dst-table="public.log"
	 src-required="false" dst-required="false"
	 auto-sufix="true"
/>

<table name="temp" oids="true">
	<schema name="public"/>
	<position x="533" y="574"/>
	<column name="id" not-null="true">
		<type name="serial"/>
	</column>
</table>

</dbmodel>
